<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gerenciamento de Almoxarifado</title>
  <link rel="stylesheet" href="improved_styles.css">
</head>
<body class="light-mode">
  <header>
    <div class="header-content">
      <h1>Gerenciamento de Almoxarifado</h1>
      <div class="header-actions">
        <button id="toggle-theme" type="button" aria-label="Alternar entre os modos claro e escuro">Modo Escuro</button>
        <a class="primary-link" href="estoque.html">Visualizar Estoque Público</a>
      </div>
    </div>
  </header>

  <section class="dashboard-metrics" aria-label="Resumo do inventário">
    <article class="metric-card">
      <h3>Estoque</h3>
      <p><span id="stock-total-items">0</span> itens cadastrados</p>
      <p><span id="stock-total-quantity">0</span> unidades disponíveis</p>
      <p class="metric-warning"><span id="stock-low-count">0</span> itens com estoque baixo</p>
    </article>
    <article class="metric-card">
      <h3>Ferramentas</h3>
      <p><span id="tools-total-items">0</span> ferramentas cadastradas</p>
      <p><span id="tools-total-quantity">0</span> unidades disponíveis</p>
      <p class="metric-warning"><span id="tools-low-count">0</span> ferramentas com estoque baixo</p>
    </article>
    <article class="metric-card">
      <h3>Retiradas</h3>
      <p><span id="withdrawals-total">0</span> registros</p>
      <p><span id="withdrawals-pending">0</span> retiradas pendentes</p>
    </article>
  </section>

  <nav>
    <button class="tab-button active" data-tab="stock-tab">Estoque</button>
    <button class="tab-button" data-tab="tools-tab">Ferramentas</button>
    <button class="tab-button" data-tab="withdrawals-tab">Retirados</button>
  </nav>

  <main>
    <!-- Estoque -->
    <section id="stock-tab" class="tab-content active">
      <h2>Cadastro de Itens do Estoque</h2>
      <form id="add-stock-form">
        <label for="stock-name">Nome:</label>
        <input type="text" id="stock-name" placeholder="Ex: Parafuso" required>
        
        <label for="stock-description">Descrição:</label>
        <textarea id="stock-description" placeholder="Ex: Parafuso de aço inoxidável" required></textarea>
        
        <label for="stock-quantity">Quantidade:</label>
        <input type="number" id="stock-quantity" min="1" placeholder="Ex: 50" required>
        
        <button type="submit">Cadastrar Estoque</button>
      </form>
      <h3>Itens do Estoque</h3>
      <div class="table-actions">
        <input type="search" id="stock-search" placeholder="Buscar por nome ou descrição" aria-label="Buscar itens do estoque">
        <button id="export-stock" type="button">Exportar Estoque</button>
      </div>
      <table id="stock-table">
        <thead>
          <tr>
            <th>Nome</th>
            <th>Descrição</th>
            <th>Quantidade</th>
            <th>Status</th>
            <th>Ação</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- Ferramentas -->
    <section id="tools-tab" class="tab-content">
      <h2>Cadastro de Ferramentas</h2>
      <form id="add-tools-form">
        <label for="tool-name">Nome:</label>
        <input type="text" id="tool-name" placeholder="Ex: Martelo" required>
        
        <label for="tool-description">Descrição:</label>
        <textarea id="tool-description" placeholder="Ex: Martelo com cabo de borracha" required></textarea>
        
        <label for="tool-quantity">Quantidade:</label>
        <input type="number" id="tool-quantity" min="1" placeholder="Ex: 10" required>
        
        <button type="submit">Cadastrar Ferramenta</button>
      </form>
      <h3>Ferramentas Cadastradas</h3>
      <div class="table-actions">
        <input type="search" id="tools-search" placeholder="Buscar por nome ou descrição" aria-label="Buscar ferramentas">
      </div>
      <table id="tools-table">
        <thead>
          <tr>
            <th>Nome</th>
            <th>Descrição</th>
            <th>Quantidade</th>
            <th>Status</th>
            <th>Ação</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- Retirados -->
    <section id="withdrawals-tab" class="tab-content">
      <h2>Registrar Retirada</h2>
      <form id="register-withdrawal-form">
        <label for="person-name">Nome da Pessoa:</label>
        <input type="text" id="person-name" placeholder="Ex: Diogo Moura" required>
        
        <label for="withdraw-item-name">Item:</label>
        <select id="withdraw-item-name" required>
          <option value="" disabled selected>Selecione um item</option>
        </select>

        <label for="withdraw-quantity">Quantidade:</label>
        <input type="number" id="withdraw-quantity" min="1" placeholder="Ex: 20" required>
        
        <button type="submit">Registrar Retirada</button>
      </form>
      <h3>Itens Retirados</h3>
      <div class="table-actions">
        <input type="search" id="withdrawals-search" placeholder="Buscar por pessoa ou item" aria-label="Buscar retiradas">
        <label class="inline-checkbox">
          <input type="checkbox" id="withdrawals-pending-only">
          Mostrar apenas pendentes
        </label>
      </div>
      <table id="withdrawals-table">
        <thead>
          <tr>
            <th>Nome da Pessoa</th>
            <th>Item</th>
            <th>Tipo</th>
            <th>Quantidade</th>
            <th>Data</th>
            <th>Status</th>
            <th>Ação</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>
  </main>

  <script src="app_utils.js"></script>
  <script src="improved_app.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</body>
</html>
